### ‚úÖ Step 99: Validate API Controller Endpoints (Express + Drizzle, Secure, Modular)

**üìå Description:**  
Perform full integration testing of all module placeholder endpoints created in Steps 90‚Äì98. This test ensures each module is correctly wired under the `/api/` path, protected using standardized authentication and authorization patterns:  
- ‚úÖ `AuthGuard.protect(JwtAuthMode.REQUIRED)`
- ‚úÖ `AuthGuard.roleGuard()`
- ‚úÖ `AuthGuard.companyGuard()`

---

### üß† Agent Instructions

#### 1. üîç Pre-flight Audit

For each module listed below, **verify** the following:

- [ ] Is the controller file defined in `src/modules/<module>/<module>.controller.ts`?
- [ ] Is the controller route registered with `/api/<module>` in `server.ts` or root router?
- [ ] Are routes protected with `AuthGuard.protect(JwtAuthMode.REQUIRED)`?
- [ ] Are `roleGuard()` and `companyGuard()` also applied if applicable?

> **If already implemented**, do NOT duplicate. Instead, ensure correct middlewares and refactor paths to use `/api/`.

---

#### 2. üß™ Run Endpoint Tests

Use the token from Step 78. Replace `YOUR_TOKEN_HERE` with a valid JWT.

```bash
# Sales
curl -X POST http://localhost:3000/api/sales/placeholder \
  -H "Authorization: Bearer YOUR_TOKEN_HERE" \
  -H "Content-Type: application/json" \
  -d '{"test":"data"}'

# HR
curl -X POST http://localhost:3000/api/hr/placeholder \
  -H "Authorization: Bearer YOUR_TOKEN_HERE" \
  -H "Content-Type: application/json" \
  -d '{"test":"data"}'

# E-commerce
curl -X POST http://localhost:3000/api/ecommerce/order-placeholder \
  -H "Authorization: Bearer YOUR_TOKEN_HERE" \
  -H "Content-Type: application/json" \
  -d '{"test":"data"}'

# Marketing
curl -X POST http://localhost:3000/api/marketing/campaign-placeholder \
  -H "Authorization: Bearer YOUR_TOKEN_HERE" \
  -H "Content-Type: application/json" \
  -d '{"test":"data"}'

# Integrations
curl -X POST http://localhost:3000/api/integrations/activate-placeholder \
  -H "Authorization: Bearer YOUR_TOKEN_HERE" \
  -H "Content-Type: application/json" \
  -d '{"test":"data"}'

# BPM
curl -X POST http://localhost:3000/api/bpm/process-placeholder \
  -H "Authorization: Bearer YOUR_TOKEN_HERE" \
  -H "Content-Type: application/json" \
  -d '{"test":"data"}'

# Collaboration
curl -X POST http://localhost:3000/api/collab/task-placeholder \
  -H "Authorization: Bearer YOUR_TOKEN_HERE" \
  -H "Content-Type: application/json" \
  -d '{"test":"data"}'

# AI
curl -X POST http://localhost:3000/api/ai/report-placeholder \
  -H "Authorization: Bearer YOUR_TOKEN_HERE" \
  -H "Content-Type: application/json" \
  -d '{"test":"data"}'

# Settings
curl -X POST http://localhost:3000/api/settings/setup-placeholder \
  -H "Authorization: Bearer YOUR_TOKEN_HERE" \
  -H "Content-Type: application/json" \
  -d '{"test":"data"}'
