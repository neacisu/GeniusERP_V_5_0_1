import{a as z,u as E,d4 as P,f as F,d0 as a,t as H,z as t,j as e,cV as B,cW as V,cX as b,cY as N,cZ as v,B as u,aQ as D,b9 as S,F as R,g as y,_ as C,$ as A,a0 as k,h as w,i as o,k as n,l,m as r,I as T,o as d,n as x,T as I,dS as U,dT as m,aH as W,bN as L,d6 as _,d5 as G,cs as O,a3 as $,a4 as q,a5 as Q,a6 as X,a7 as i}from"./index-BzQLEEGE.js";const Y=t.object({name:t.string().min(3,{message:"Numele șablonului trebuie să aibă cel puțin 3 caractere."}),type:t.enum([a.EMAIL,a.SMS,a.SOCIAL,a.PUSH,a.WHATSAPP,a.MULTI_CHANNEL]),description:t.string().optional(),subject:t.string().optional(),content:t.string().optional(),category:t.string().optional(),isActive:t.boolean().default(!0)}),K=()=>{const[Z,j]=z(),{toast:f}=E(),{createTemplate:M}=P(),c=F({resolver:H(Y),defaultValues:{name:"",type:a.EMAIL,description:"",subject:"",content:"",category:"",isActive:!0}}),h=c.watch("type"),g=async s=>{try{const p=await M.mutateAsync(s);f({title:"Șablon creat",description:"Șablonul a fost creat cu succes."}),j(`/marketing/templates/${p.id}`)}catch(p){console.error("Error creating template:",p),f({title:"Eroare",description:"A apărut o eroare la crearea șablonului.",variant:"destructive"})}};return e.jsxs("div",{className:"flex-1 space-y-4 p-6",children:[e.jsx(B,{children:e.jsxs(V,{children:[e.jsx(b,{children:e.jsx(N,{href:"/marketing",children:"Marketing"})}),e.jsx(v,{}),e.jsx(b,{children:e.jsx(N,{href:"/marketing/templates",children:"Șabloane"})}),e.jsx(v,{}),e.jsx(b,{children:e.jsx(N,{children:"Șablon nou"})})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs(u,{variant:"ghost",size:"icon",className:"mr-2",onClick:()=>j("/marketing/templates"),children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Înapoi"})]}),e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Șablon nou"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(u,{variant:"outline",onClick:()=>j("/marketing/templates"),children:"Anulează"}),e.jsxs(u,{onClick:c.handleSubmit(g),children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),"Salvează"]})]})]}),e.jsx(R,{...c,children:e.jsxs("form",{onSubmit:c.handleSubmit(g),className:"space-y-6",children:[e.jsxs(y,{children:[e.jsxs(C,{children:[e.jsx(A,{children:"Informații Generale"}),e.jsx(k,{children:"Configurați detaliile de bază ale șablonului."})]}),e.jsxs(w,{className:"space-y-6",children:[e.jsx(o,{control:c.control,name:"name",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:"Nume Șablon"}),e.jsx(r,{children:e.jsx(T,{placeholder:"Nume șablon",...s})}),e.jsx(d,{children:"Numele șablonului va fi utilizat pentru identificare."}),e.jsx(x,{})]})}),e.jsx(o,{control:c.control,name:"description",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:"Descriere"}),e.jsx(r,{children:e.jsx(I,{placeholder:"Descrieți șablonul",className:"resize-none min-h-[100px]",...s})}),e.jsx(d,{children:"O scurtă descriere a scopului și conținutului șablonului."}),e.jsx(x,{})]})}),e.jsx(o,{control:c.control,name:"type",render:({field:s})=>e.jsxs(n,{className:"space-y-3",children:[e.jsx(l,{children:"Tip Șablon"}),e.jsx(r,{children:e.jsxs(U,{onValueChange:s.onChange,defaultValue:s.value,className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[e.jsxs(n,{className:"flex items-center space-x-3 space-y-0 border rounded-md p-4",children:[e.jsx(r,{children:e.jsx(m,{value:a.EMAIL})}),e.jsxs(l,{className:"font-normal flex items-center",children:[e.jsx(W,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Email"})]})]}),e.jsxs(n,{className:"flex items-center space-x-3 space-y-0 border rounded-md p-4",children:[e.jsx(r,{children:e.jsx(m,{value:a.SMS})}),e.jsxs(l,{className:"font-normal flex items-center",children:[e.jsx(L,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"SMS"})]})]}),e.jsxs(n,{className:"flex items-center space-x-3 space-y-0 border rounded-md p-4",children:[e.jsx(r,{children:e.jsx(m,{value:a.SOCIAL})}),e.jsxs(l,{className:"font-normal flex items-center",children:[e.jsx(_,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Social Media"})]})]}),e.jsxs(n,{className:"flex items-center space-x-3 space-y-0 border rounded-md p-4",children:[e.jsx(r,{children:e.jsx(m,{value:a.PUSH})}),e.jsxs(l,{className:"font-normal flex items-center",children:[e.jsx(G,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Push Notificare"})]})]}),e.jsxs(n,{className:"flex items-center space-x-3 space-y-0 border rounded-md p-4",children:[e.jsx(r,{children:e.jsx(m,{value:a.WHATSAPP})}),e.jsxs(l,{className:"font-normal flex items-center",children:[e.jsx(L,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"WhatsApp"})]})]}),e.jsxs(n,{className:"flex items-center space-x-3 space-y-0 border rounded-md p-4",children:[e.jsx(r,{children:e.jsx(m,{value:a.MULTI_CHANNEL})}),e.jsxs(l,{className:"font-normal flex items-center",children:[e.jsx(O,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Multi-canal"})]})]})]})}),e.jsx(d,{children:"Tipul de șablon determină canalul prin care va fi distribuit."}),e.jsx(x,{})]})}),e.jsx(o,{control:c.control,name:"category",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:"Categorie"}),e.jsxs($,{onValueChange:s.onChange,defaultValue:s.value,children:[e.jsx(r,{children:e.jsx(q,{children:e.jsx(Q,{placeholder:"Selectează o categorie"})})}),e.jsxs(X,{children:[e.jsx(i,{value:"newsletter",children:"Newsletter"}),e.jsx(i,{value:"promotional",children:"Promoțional"}),e.jsx(i,{value:"transactional",children:"Tranzacțional"}),e.jsx(i,{value:"announcement",children:"Anunț"}),e.jsx(i,{value:"event",children:"Eveniment"}),e.jsx(i,{value:"welcome",children:"Bun venit"}),e.jsx(i,{value:"feedback",children:"Feedback"}),e.jsx(i,{value:"reminder",children:"Reminder"}),e.jsx(i,{value:"confirmation",children:"Confirmare"}),e.jsx(i,{value:"other",children:"Altă categorie"})]})]}),e.jsx(d,{children:"Categorizați șablonul pentru o organizare mai bună."}),e.jsx(x,{})]})}),e.jsx(o,{control:c.control,name:"isActive",render:({field:s})=>e.jsxs(n,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[e.jsx(r,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:s.value,onChange:s.onChange,className:"w-4 h-4"}),e.jsx("span",{children:"Activ"})]})}),e.jsx("div",{className:"space-y-1 leading-none",children:e.jsx(d,{children:"Dacă este activ, acest șablon poate fi utilizat în campaniile de marketing."})}),e.jsx(x,{})]})})]})]}),e.jsxs(y,{children:[e.jsxs(C,{children:[e.jsx(A,{children:"Conținut"}),e.jsx(k,{children:"Definiți conținutul șablonului."})]}),e.jsxs(w,{className:"space-y-6",children:[(h===a.EMAIL||h===a.MULTI_CHANNEL)&&e.jsx(o,{control:c.control,name:"subject",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:"Subiect Email"}),e.jsx(r,{children:e.jsx(T,{placeholder:"Introduceți subiectul",...s})}),e.jsx(d,{children:"Subiectul email-ului creat cu acest șablon."}),e.jsx(x,{})]})}),e.jsx(o,{control:c.control,name:"content",render:({field:s})=>e.jsxs(n,{children:[e.jsx(l,{children:"Conținut"}),e.jsx(r,{children:e.jsx(I,{placeholder:"Introduceți conținutul șablonului",className:"min-h-[300px]",...s})}),e.jsxs(d,{children:["Puteți folosi variabile precum ","{nume}",", ","{prenume}"," pentru personalizare.",h===a.SMS||h===a.WHATSAPP?" Pentru mesaje SMS, limitați conținutul la 160 de caractere pentru a evita costuri suplimentare.":""]}),e.jsx(x,{})]})})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(u,{variant:"outline",type:"button",onClick:()=>j("/marketing/templates"),children:"Anulează"}),e.jsxs(u,{type:"submit",children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),"Salvează șablonul"]})]})]})})]})};export{K as default};
