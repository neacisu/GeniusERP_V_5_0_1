import{u as K,r as j,j as e,ay as x,aJ as S,aK as P,B as d,aF as D,aM as M,aN as n,aI as v,ap as w,aH as C,bv as b,bN as F,a1 as _,a3 as A,a4 as y,a5 as I,a6 as k,a7 as a,by as Q,af as R,ag as W,ah as V,cf as X,aj as E,g as L,h as $,ai as Y,bs as Z,_ as ee,$ as se}from"./index-BzQLEEGE.js";import{C as ae}from"./CRMModuleLayout-Dn1kMNZ5.js";const G=[{id:"1",title:"Apel introductiv",type:"call",description:"Discuție inițială despre nevoile companiei și soluțiile noastre.",status:"completed",startTime:"2025-04-10T10:00:00",endTime:"2025-04-10T10:30:00",customerName:"Acme SRL",customerId:"1",contactName:"Ion Ionescu",contactId:"1",assignedTo:"Alexandru Popa",assignedToId:"u1",completedAt:"2025-04-10T10:28:00",outcome:"Interes ridicat pentru soluția ERP. Programată demonstrație pentru săptămâna viitoare."},{id:"2",title:"Email follow-up demo",type:"email",description:"Email cu detalii și resurse după demonstrația produsului.",status:"completed",startTime:"2025-04-10T14:00:00",customerName:"Acme SRL",customerId:"1",contactName:"Maria Popescu",contactId:"2",assignedTo:"Alexandru Popa",assignedToId:"u1",completedAt:"2025-04-10T14:35:00",outcome:"Email trimis cu materiale și link-uri către resurse suplimentare."},{id:"3",title:"Întâlnire prezentare soluții",type:"meeting",description:"Demonstrație detaliată a funcționalităților produsului.",status:"completed",startTime:"2025-04-09T11:00:00",endTime:"2025-04-09T12:30:00",customerName:"TechSoft Solutions",customerId:"2",contactName:"George Popa",contactId:"3",assignedTo:"Maria Dinu",assignedToId:"u2",completedAt:"2025-04-09T12:45:00",outcome:"Feedback pozitiv, cu interes specific pentru modulul financiar."},{id:"4",title:"Preparare ofertă",type:"task",description:"Pregătire ofertă personalizată după cerințele discutate.",status:"completed",startTime:"2025-04-08T09:00:00",endTime:"2025-04-08T16:00:00",customerName:"TechSoft Solutions",customerId:"2",assignedTo:"Maria Dinu",assignedToId:"u2",completedAt:"2025-04-08T15:20:00",outcome:"Ofertă completată și trimisă spre revizuire internă."},{id:"5",title:"Apel feedback ofertă",type:"call",description:"Discuție despre oferta trimisă și clarificarea întrebărilor.",status:"scheduled",startTime:"2025-04-12T14:00:00",endTime:"2025-04-12T14:30:00",customerName:"TechSoft Solutions",customerId:"2",contactName:"George Popa",contactId:"3",assignedTo:"Alexandru Popa",assignedToId:"u1"},{id:"6",title:"Întâlnire de negociere",type:"meeting",description:"Negocierea termenilor contractuali și detaliilor tehnice.",status:"scheduled",startTime:"2025-04-15T10:00:00",endTime:"2025-04-15T11:30:00",customerName:"Acme SRL",customerId:"1",contactName:"Ion Ionescu",contactId:"1",assignedTo:"Alexandru Popa",assignedToId:"u1"},{id:"7",title:"Întâlnire internă de pregătire",type:"meeting",description:"Pregătire internă pentru întâlnirea de negociere.",status:"scheduled",startTime:"2025-04-14T15:00:00",endTime:"2025-04-14T16:00:00",assignedTo:"Alexandru Popa",assignedToId:"u1"},{id:"8",title:"Configurare demo personalizat",type:"task",description:"Configurare instanță demo cu date specifice clientului.",status:"scheduled",startTime:"2025-04-13T09:00:00",endTime:"2025-04-13T17:00:00",customerName:"MediCare Plus",customerId:"3",assignedTo:"Andrei Vasilescu",assignedToId:"u3"}],B=[{id:"1",firstName:"Ion",lastName:"Ionescu"},{id:"2",firstName:"Maria",lastName:"Popescu"},{id:"3",firstName:"George",lastName:"Popa"}],te=[...G].sort((l,c)=>l.status==="scheduled"&&c.status!=="scheduled"?-1:l.status!=="scheduled"&&c.status==="scheduled"?1:l.status==="scheduled"?new Date(c.startTime).getTime()-new Date(l.startTime).getTime():new Date(c.completedAt||c.startTime).getTime()-new Date(l.completedAt||l.startTime).getTime()),re=()=>{const{toast:l}=K(),[c,g]=j.useState("list"),[r,N]=j.useState("all"),[m,T]=j.useState("all"),[o,f]=j.useState("all"),O=[...new Set(G.map(s=>s.assignedTo))],h=te.filter(s=>{const i=r==="all"||s.type===r,p=m==="all"||s.status===m,u=o==="all"||s.assignedTo===o;return i&&p&&u}),H=s=>{const i=new Date(s);return new Intl.DateTimeFormat("ro-RO",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(i)},U=s=>{const i=new Date(s);return new Intl.DateTimeFormat("ro-RO",{hour:"2-digit",minute:"2-digit"}).format(i)},q=s=>{switch(s){case"call":return e.jsx(v,{className:"h-4 w-4"});case"email":return e.jsx(C,{className:"h-4 w-4"});case"meeting":return e.jsx(w,{className:"h-4 w-4"});case"task":return e.jsx(b,{className:"h-4 w-4"});case"note":return e.jsx(F,{className:"h-4 w-4"});default:return e.jsx(x,{className:"h-4 w-4"})}},t=s=>{l({title:`Adaugă ${s}`,description:"Funcționalitate în curând disponibilă."})},z=(s,i)=>{l({title:`Acțiune: ${s}`,description:`Pentru activitatea cu ID: ${i}`})},J=()=>{N("all"),T("all"),f("all")};return e.jsx(ae,{activeTab:"activities",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{className:"h-6 w-6 text-primary"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Activități"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{children:[e.jsx(P,{asChild:!0,children:e.jsxs(d,{className:"bg-primary hover:bg-primary/90",children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),"Adaugă Activitate"]})}),e.jsxs(M,{align:"end",children:[e.jsxs(n,{onClick:()=>t("call"),children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),"Înregistrează apel"]}),e.jsxs(n,{onClick:()=>t("meeting"),children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Programează întâlnire"]}),e.jsxs(n,{onClick:()=>t("email"),children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),"Trimite email"]}),e.jsxs(n,{onClick:()=>t("task"),children:[e.jsx(b,{className:"h-4 w-4 mr-2"}),"Crează sarcină"]}),e.jsxs(n,{onClick:()=>t("note"),children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"Adaugă notă"]})]})]}),e.jsxs(d,{variant:"outline",onClick:()=>t("refresh"),children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),"Actualizează"]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(A,{value:r,onValueChange:N,children:[e.jsx(y,{className:"w-[150px]",children:e.jsx(I,{placeholder:"Tip"})}),e.jsxs(k,{children:[e.jsx(a,{value:"all",children:"Toate tipurile"}),e.jsx(a,{value:"call",children:"Apeluri"}),e.jsx(a,{value:"meeting",children:"Întâlniri"}),e.jsx(a,{value:"email",children:"Email-uri"}),e.jsx(a,{value:"task",children:"Sarcini"}),e.jsx(a,{value:"note",children:"Note"})]})]}),e.jsxs(A,{value:m,onValueChange:T,children:[e.jsx(y,{className:"w-[150px]",children:e.jsx(I,{placeholder:"Status"})}),e.jsxs(k,{children:[e.jsx(a,{value:"all",children:"Toate statusurile"}),e.jsx(a,{value:"scheduled",children:"Programate"}),e.jsx(a,{value:"completed",children:"Completate"})]})]}),e.jsxs(A,{value:o,onValueChange:f,children:[e.jsx(y,{className:"w-[150px]",children:e.jsx(I,{placeholder:"Atribuit către"})}),e.jsxs(k,{children:[e.jsx(a,{value:"all",children:"Toți utilizatorii"}),O.map(s=>e.jsx(a,{value:s,children:s},s))]})]}),e.jsxs(d,{variant:"outline",size:"icon",onClick:J,className:"h-10 w-10 p-2",children:[e.jsx(Q,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Resetează filtre"})]})]}),e.jsx(R,{value:c,onValueChange:s=>g(s),className:"w-auto",children:e.jsxs(W,{className:"grid w-[180px] grid-cols-2",children:[e.jsxs(V,{value:"list",className:"flex items-center gap-1",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx("span",{children:"Listă"})]}),e.jsxs(V,{value:"calendar",className:"flex items-center gap-1",children:[e.jsx(x,{className:"h-4 w-4"}),e.jsx("span",{children:"Calendar"})]})]})})]}),(r!=="all"||m!=="all"||o!=="all")&&e.jsxs("div",{className:"flex flex-wrap gap-2 pb-2",children:[r!=="all"&&e.jsxs("div",{className:"bg-primary/10 text-primary text-xs py-1 px-2.5 rounded-full flex items-center",children:["Tip: ",r==="call"?"Apeluri":r==="meeting"?"Întâlniri":r==="email"?"Email-uri":r==="task"?"Sarcini":"Note",e.jsx("button",{className:"ml-1.5 text-primary/80 hover:text-primary",onClick:()=>N("all"),children:"✕"})]}),m!=="all"&&e.jsxs("div",{className:"bg-primary/10 text-primary text-xs py-1 px-2.5 rounded-full flex items-center",children:["Status: ",m==="scheduled"?"Programate":"Completate",e.jsx("button",{className:"ml-1.5 text-primary/80 hover:text-primary",onClick:()=>T("all"),children:"✕"})]}),o!=="all"&&e.jsxs("div",{className:"bg-primary/10 text-primary text-xs py-1 px-2.5 rounded-full flex items-center",children:["Atribuit către: ",o,e.jsx("button",{className:"ml-1.5 text-primary/80 hover:text-primary",onClick:()=>f("all"),children:"✕"})]})]}),e.jsxs("div",{className:"text-sm text-gray-500 mb-4",children:[h.length," ",h.length===1?"activitate găsită":"activități găsite"]}),e.jsxs(R,{value:c,onValueChange:s=>g(s),children:[e.jsx(E,{value:"list",className:"mt-0 p-0",children:e.jsx("div",{className:"space-y-4",children:h.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 border rounded-lg",children:[e.jsx(x,{className:"h-12 w-12 text-gray-300 mb-4"}),e.jsx("p",{className:"text-xl font-medium mb-2",children:"Nicio activitate găsită"}),e.jsx("p",{className:"text-sm text-gray-500 mb-6 max-w-sm text-center",children:"Ajustează filtrele sau adaugă o activitate nouă pentru a începe."}),e.jsxs(S,{children:[e.jsx(P,{asChild:!0,children:e.jsxs(d,{children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),"Adaugă Activitate"]})}),e.jsxs(M,{align:"end",children:[e.jsxs(n,{onClick:()=>t("call"),children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),"Înregistrează apel"]}),e.jsxs(n,{onClick:()=>t("meeting"),children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Programează întâlnire"]}),e.jsxs(n,{onClick:()=>t("email"),children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),"Trimite email"]}),e.jsxs(n,{onClick:()=>t("task"),children:[e.jsx(b,{className:"h-4 w-4 mr-2"}),"Crează sarcină"]})]})]})]}):h.map(s=>{var i,p;return e.jsx(L,{className:"shadow-sm",children:e.jsx($,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`rounded-full p-2 ${s.status==="completed"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:q(s.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:s.title}),e.jsxs("p",{className:"text-sm text-gray-500",children:[H(s.startTime),s.endTime&&` - ${U(s.endTime)}`]})]}),e.jsx(Y,{className:s.status==="completed"?"bg-green-100 text-green-800 hover:bg-green-100":"bg-blue-100 text-blue-800 hover:bg-blue-100",children:s.status==="completed"?"Completat":"Programat"})]}),s.contactId&&e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx(Z,{className:"h-4 w-4 mr-2 text-gray-500"}),e.jsxs("span",{className:"text-sm",children:[(i=B.find(u=>u.id===s.contactId))==null?void 0:i.firstName," ",(p=B.find(u=>u.id===s.contactId))==null?void 0:p.lastName]})]}),s.description&&e.jsx("p",{className:"mt-3 text-sm",children:s.description}),e.jsxs("div",{className:"flex justify-between items-center mt-4 pt-3 border-t",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Asignat către: ",s.assignedTo]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(d,{variant:"outline",size:"sm",onClick:()=>z("view",s.id),children:"Vezi detalii"}),s.status!=="completed"&&e.jsx(d,{variant:"outline",size:"sm",onClick:()=>z("complete",s.id),children:"Marchează ca completat"})]})]})]})]})})},s.id)})})}),e.jsx(E,{value:"calendar",className:"mt-0 p-0",children:e.jsxs(L,{children:[e.jsx(ee,{children:e.jsx(se,{children:"Vizualizare Calendar"})}),e.jsx($,{children:e.jsx("div",{className:"border p-4 rounded-md h-[500px] flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(x,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"Vizualizarea calendar va fi disponibilă în curând"}),e.jsx("p",{className:"text-sm text-gray-500 mb-6 max-w-sm",children:"Lucrăm la implementarea unei vizualizări complete de calendar pentru activitățile CRM."}),e.jsx(d,{onClick:()=>g("list"),children:"Revino la vizualizarea listă"})]})})})]})})]})]})})};export{re as default};
