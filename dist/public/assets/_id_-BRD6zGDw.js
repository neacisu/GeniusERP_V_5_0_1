import{a as H,u as F,dV as B,r as W,j as e,B as t,aQ as f,S as r,cV as N,cW as b,cX as l,cY as c,cZ as x,g as m,h as o,b7 as w,d0 as a,ai as y,bh as O,ci as U,M as V,aP as R,af as _,ag as $,ah as g,aj as v,_ as u,$ as h,a0 as A,dW as q,ay as X,aS as Q,aU as Y,aV as Z,aW as G,bC as J,bD as K,aH as S,cs as ee,bN as z,d5 as se,d6 as ae}from"./index-BzQLEEGE.js";const C=i=>i?new Date(i).toLocaleDateString("ro-RO",{year:"numeric",month:"long",day:"numeric"}):"-",k=({type:i})=>{switch(i){case a.EMAIL:return e.jsx(S,{className:"h-4 w-4"});case a.SMS:return e.jsx(z,{className:"h-4 w-4"});case a.SOCIAL:return e.jsx(ae,{className:"h-4 w-4"});case a.PUSH:return e.jsx(se,{className:"h-4 w-4"});case a.WHATSAPP:return e.jsx(z,{className:"h-4 w-4"});case a.MULTI_CHANNEL:return e.jsx(ee,{className:"h-4 w-4"});default:return e.jsx(S,{className:"h-4 w-4"})}},re=({id:i})=>{const[te,n]=H(),{toast:d}=F(),{template:s,isLoading:D,updateTemplate:T,deleteTemplate:I}=B(i),[M,j]=W.useState(!1),P=async()=>{try{await I.mutateAsync(i),d({title:"Șablon șters",description:"Șablonul a fost șters cu succes."}),n("/marketing/templates")}catch(p){console.error("Error deleting template:",p),d({title:"Eroare",description:"A apărut o eroare la ștergerea șablonului.",variant:"destructive"})}},L=async()=>{if(s)try{await T.mutateAsync({id:s.id,data:{isActive:!s.isActive}}),d({title:"Status actualizat",description:`Șablonul a fost ${s.isActive?"dezactivat":"activat"} cu succes.`})}catch(p){console.error("Error toggling template status:",p),d({title:"Eroare",description:"A apărut o eroare la actualizarea statusului șablonului.",variant:"destructive"})}},E=()=>{d({title:"Acțiune în dezvoltare",description:"Funcționalitatea de duplicare a șablonului va fi disponibilă în curând."})};return D?e.jsxs("div",{className:"flex-1 space-y-4 p-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(t,{variant:"ghost",size:"icon",className:"mr-2",children:e.jsx(f,{className:"h-4 w-4"})}),e.jsx(r,{className:"h-9 w-64"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(r,{className:"h-5 w-5"}),e.jsx(r,{className:"h-5 w-24"})]}),e.jsx(r,{className:"h-[400px] w-full"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(r,{className:"h-64 col-span-1"}),e.jsx(r,{className:"h-64 col-span-2"})]})]}):s?e.jsxs("div",{className:"flex-1 space-y-4 p-6",children:[e.jsx(N,{children:e.jsxs(b,{children:[e.jsx(l,{children:e.jsx(c,{href:"/marketing",children:"Marketing"})}),e.jsx(x,{}),e.jsx(l,{children:e.jsx(c,{href:"/marketing/templates",children:"Șabloane"})}),e.jsx(x,{}),e.jsx(l,{children:e.jsx(c,{children:s.name})})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs(t,{variant:"ghost",size:"icon",className:"mr-2",onClick:()=>n("/marketing/templates"),children:[e.jsx(f,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Înapoi"})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:s.name}),e.jsxs("div",{className:"flex items-center mt-1 space-x-2",children:[e.jsxs("div",{className:"flex items-center text-muted-foreground",children:[e.jsx(k,{type:s.type}),e.jsx("span",{className:"ml-1",children:s.type===a.EMAIL?"Email":s.type===a.SMS?"SMS":s.type===a.SOCIAL?"Social Media":s.type===a.PUSH?"Push Notificare":s.type===a.WHATSAPP?"WhatsApp":"Multi-canal"})]}),e.jsx("span",{className:"text-muted-foreground",children:"•"}),e.jsx(y,{variant:"outline",className:s.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:s.isActive?"Activ":"Inactiv"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 w-full sm:w-auto",children:[e.jsx(t,{variant:"outline",onClick:L,children:s.isActive?e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),"Dezactivează"]}):e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"mr-2 h-4 w-4"}),"Activează"]})}),e.jsxs(t,{variant:"outline",onClick:E,children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),"Duplică"]}),e.jsxs(t,{variant:"outline",onClick:()=>n(`/marketing/templates/edit/${i}`),children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),"Editează"]}),e.jsxs(t,{variant:"destructive",onClick:()=>j(!0),children:[e.jsx(R,{className:"mr-2 h-4 w-4"}),"Șterge"]})]})]}),e.jsxs(_,{defaultValue:"preview",className:"w-full",children:[e.jsxs($,{children:[e.jsx(g,{value:"preview",children:"Previzualizare"}),e.jsx(g,{value:"details",children:"Detalii"}),e.jsx(g,{value:"usage",children:"Utilizare"})]}),e.jsx(v,{value:"preview",className:"space-y-4",children:e.jsxs(m,{children:[e.jsxs(u,{children:[e.jsx(h,{children:"Previzualizare Șablon"}),e.jsx(A,{children:"Vizualizați cum arată șablonul dvs."})]}),e.jsx(o,{children:s.type===a.EMAIL?e.jsxs("div",{className:"border rounded-md p-6 bg-card shadow-sm",children:[s.previewImage?e.jsx("div",{className:"aspect-auto max-h-[600px] w-full overflow-auto bg-white rounded-md border shadow-sm",children:e.jsx("img",{src:s.previewImage,alt:s.name,className:"w-full h-auto object-contain"})}):e.jsx("div",{className:"aspect-video w-full flex items-center justify-center bg-muted rounded-md",children:e.jsxs("div",{className:"text-center p-6",children:[e.jsx(q,{className:"h-12 w-12 text-muted-foreground mx-auto mb-2"}),e.jsx("h3",{className:"text-lg font-medium",children:"Fără previzualizare"}),e.jsx("p",{className:"text-muted-foreground",children:"Nu există o imagine de previzualizare pentru acest șablon."})]})}),e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Subiect:"}),e.jsx("p",{className:"text-base",children:s.subject||"Fără subiect"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Conținut:"}),e.jsx("div",{className:"bg-muted rounded-md p-4 whitespace-pre-wrap",children:s.content||"Fără conținut"})]})]})]}):s.type===a.SMS||s.type===a.WHATSAPP?e.jsx("div",{className:"max-w-sm mx-auto",children:e.jsx("div",{className:"border rounded-lg p-4 bg-gray-50 shadow-sm",children:e.jsx("div",{className:"bg-white rounded-md p-4 shadow-sm",children:e.jsx("p",{className:"whitespace-pre-wrap text-sm",children:s.content||"Fără conținut"})})})}):e.jsx("div",{className:"border rounded-md p-6 bg-card",children:e.jsx("p",{className:"text-muted-foreground",children:"Previzualizarea pentru acest tip de șablon nu este disponibilă."})})})]})}),e.jsx(v,{value:"details",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(m,{className:"col-span-1",children:[e.jsx(u,{children:e.jsx(h,{children:"Informații Șablon"})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"ID:"}),e.jsx("p",{className:"text-sm font-mono",children:s.id})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Tip:"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{type:s.type}),e.jsx("span",{className:"ml-1",children:s.type===a.EMAIL?"Email":s.type===a.SMS?"SMS":s.type===a.SOCIAL?"Social Media":s.type===a.PUSH?"Push Notificare":s.type===a.WHATSAPP?"WhatsApp":"Multi-canal"})]})]}),s.category&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Categorie:"}),e.jsx("p",{children:s.category})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Status:"}),e.jsx(y,{variant:"outline",className:s.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:s.isActive?"Activ":"Inactiv"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Creat:"}),e.jsx("p",{children:C(s.createdAt)})]}),s.updatedAt&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Actualizat:"}),e.jsx("p",{children:C(s.updatedAt)})]})]})]}),e.jsxs(m,{className:"col-span-1 lg:col-span-2",children:[e.jsx(u,{children:e.jsx(h,{children:"Descriere și Conținut"})}),e.jsxs(o,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Descriere:"}),e.jsx("p",{className:"whitespace-pre-wrap",children:s.description||"Fără descriere"})]}),s.subject&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Subiect:"}),e.jsx("p",{children:s.subject})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Conținut:"}),e.jsx("div",{className:"bg-muted rounded-md p-4 whitespace-pre-wrap",children:s.content||"Fără conținut"})]})]})]})]})}),e.jsx(v,{value:"usage",className:"space-y-4",children:e.jsxs(m,{children:[e.jsxs(u,{children:[e.jsx(h,{children:"Utilizare Șablon"}),e.jsx(A,{children:"Informații despre utilizarea acestui șablon în campaniile de marketing."})]}),e.jsx(o,{children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[e.jsx(X,{className:"h-12 w-12 text-muted-foreground"}),e.jsx("h2",{className:"text-xl font-medium",children:"Statistici în dezvoltare"}),e.jsx("p",{className:"text-muted-foreground text-center max-w-md",children:"Statisticile de utilizare ale șablonului vor fi disponibile în curând. Veți putea vedea toate campaniile care utilizează acest șablon și performanța lor."}),e.jsx(t,{variant:"outline",onClick:()=>n("/marketing/campaigns/new?templateId="+i),children:"Creează o campanie cu acest șablon"})]})})]})})]}),e.jsx(Q,{open:M,onOpenChange:j,children:e.jsxs(Y,{children:[e.jsxs(Z,{children:[e.jsx(G,{children:"Confirmă ștergerea"}),e.jsx(J,{children:"Sunteți sigur că doriți să ștergeți acest șablon? Această acțiune nu poate fi anulată și poate afecta campaniile care folosesc acest șablon."})]}),e.jsxs(K,{children:[e.jsx(t,{variant:"outline",onClick:()=>j(!1),children:"Anulează"}),e.jsx(t,{variant:"destructive",onClick:P,children:"Șterge"})]})]})})]}):e.jsxs("div",{className:"flex-1 space-y-4 p-6",children:[e.jsx(N,{children:e.jsxs(b,{children:[e.jsx(l,{children:e.jsx(c,{href:"/marketing",children:"Marketing"})}),e.jsx(x,{}),e.jsx(l,{children:e.jsx(c,{href:"/marketing/templates",children:"Șabloane"})}),e.jsx(x,{}),e.jsx(l,{children:e.jsx(c,{children:"Eroare"})})]})}),e.jsx(m,{children:e.jsxs(o,{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[e.jsx(w,{className:"h-12 w-12 text-destructive"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Șablon negăsit"}),e.jsx("p",{className:"text-muted-foreground text-center",children:"Șablonul pe care încercați să îl vizualizați nu există sau a fost șters."}),e.jsx(t,{onClick:()=>n("/marketing/templates"),children:"Înapoi la lista de șabloane"})]})})]})};export{re as default};
