import{u as h,a as p,c as j,d as g,e as L,r as n,j as s,A as v,B as N,L as R,C as E,S as r}from"./index-BzQLEEGE.js";import{u as y}from"./usePermissions-CsfBWgHN.js";import{R as S}from"./RoleForm-DDIblK57.js";function A(){const{toast:e}=h(),[P,a]=p(),{id:t}=j(),{data:o,isLoading:d,error:c}=g(t),{data:l,isLoading:u}=y(),i=L();n.useEffect(()=>{c&&(e({title:"Eroare",description:"Rolul nu a fost găsit sau nu aveți permisiunea de a-l edita.",variant:"destructive"}),a("/admin/roles"))},[c,e,a]),n.useEffect(()=>{i.isSuccess&&(e({title:"Succes",description:"Rolul a fost actualizat cu succes."}),a("/admin/roles"))},[i.isSuccess,e,a]);const m=f=>{t&&i.mutate({id:t,role:f})},x=d||u;return s.jsx(v,{children:s.jsxs("div",{className:"flex flex-col space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex flex-col space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(N,{variant:"ghost",size:"icon",asChild:!0,children:s.jsx(R,{href:"/admin/roles",children:s.jsx(E,{className:"h-4 w-4"})})}),s.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Editare rol"})]}),s.jsx("p",{className:"text-gray-500",children:"Actualizați rolul și permisiunile asociate"})]})}),x?s.jsxs("div",{className:"space-y-4",children:[s.jsx(r,{className:"h-12 w-full"}),s.jsx(r,{className:"h-64 w-full"})]}):s.jsx(S,{role:o==null?void 0:o.data,permissions:(l==null?void 0:l.data)||[],onSubmit:m,isPending:i.isPending})]})})}export{A as default};
