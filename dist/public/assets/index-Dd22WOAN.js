import{w as R,u as E,r as I,j as e,bP as V,aS as M,aT as B,B as i,aF as o,aU as L,aV as $,aW as O,bC as G,bu as t,I as n,b6 as m,bD as H,g as x,_ as p,$ as h,a0 as u,aJ as y,aK as N,ch as b,aM as f,aN as c,M as C,bh as U,aO as D,N as w,h as j,ai as g,af as W,ag as q,ah as P,aj as z,ct as J,aL as K}from"./index-BzQLEEGE.js";import{C as _}from"./CRMModuleLayout-Dn1kMNZ5.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=R("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),T=[{id:"1",name:"Pipeline Principal",description:"Pipeline standard pentru majoritatea oportunităților de vânzări",isDefault:!0,targetCycleTime:30,targetConversionRate:25,stages:[{id:"s1",name:"Calificare",color:"#99D126",probability:10,order:1},{id:"s2",name:"Demonstrație",color:"#88C506",probability:25,order:2},{id:"s3",name:"Propunere",color:"#F7AE2B",probability:50,order:3},{id:"s4",name:"Negociere",color:"#F69008",probability:75,order:4},{id:"s5",name:"Câștigat",color:"#0CA437",probability:100,order:5},{id:"s6",name:"Pierdut",color:"#D80F17",probability:0,order:6}]},{id:"2",name:"Pipeline Enterprise",description:"Pipeline complex pentru oportunități Enterprise cu ciclu de vânzare lung",isDefault:!1,targetCycleTime:90,targetConversionRate:15,stages:[{id:"s7",name:"Inițial",color:"#99D126",probability:5,order:1},{id:"s8",name:"Analiză Necesități",color:"#88C506",probability:15,order:2},{id:"s9",name:"Workshop Tehnic",color:"#F7AE2B",probability:30,order:3},{id:"s10",name:"Propunere",color:"#F69008",probability:45,order:4},{id:"s11",name:"Revizuire Legală",color:"#C80002",probability:60,order:5},{id:"s12",name:"Negociere",color:"#F69008",probability:80,order:6},{id:"s13",name:"Câștigat",color:"#0CA437",probability:100,order:7},{id:"s14",name:"Pierdut",color:"#D80F17",probability:0,order:8}]},{id:"3",name:"Pipeline Parteneriate",description:"Pipeline pentru dezvoltarea relațiilor cu partenerii strategici",isDefault:!1,targetCycleTime:120,targetConversionRate:35,stages:[{id:"s15",name:"Inițiere Contact",color:"#99D126",probability:10,order:1},{id:"s16",name:"Evaluare Compatibilitate",color:"#88C506",probability:30,order:2},{id:"s17",name:"Definire Parteneriat",color:"#F7AE2B",probability:50,order:3},{id:"s18",name:"Negociere Contract",color:"#F69008",probability:70,order:4},{id:"s19",name:"Parteneriat Activ",color:"#0CA437",probability:100,order:5},{id:"s20",name:"Parteneriat Încheiat",color:"#D80F17",probability:0,order:6}]}],X=[{pipelineId:"1",activeDeals:24,totalValue:215e4,avgCycleTime:28,conversionRate:22},{pipelineId:"2",activeDeals:8,totalValue:375e4,avgCycleTime:95,conversionRate:12},{pipelineId:"3",activeDeals:5,totalValue:12e5,avgCycleTime:110,conversionRate:40}],ee=()=>{const{toast:d}=E(),[r,k]=I.useState(T[0]),F=s=>new Intl.NumberFormat("ro-RO",{style:"currency",currency:"RON",maximumFractionDigits:0}).format(s),l=(s,a)=>{d({title:`Acțiune: ${s}`,description:`Pentru pipeline-ul cu ID: ${a}`})},v=(s,a)=>{d({title:`Acțiune: ${s}`,description:`Pentru etapa cu ID: ${a}`})},A=s=>X.find(a=>a.pipelineId===s)||{activeDeals:0,totalValue:0,avgCycleTime:0,conversionRate:0},S=s=>{s.preventDefault(),d({title:"Pipeline creat",description:"Noul pipeline a fost creat cu succes."})};return e.jsx(_,{activeTab:"pipelines",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(V,{className:"h-6 w-6 text-primary"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Pipeline-uri de Vânzări"})]}),e.jsxs(M,{children:[e.jsx(B,{asChild:!0,children:e.jsxs(i,{className:"bg-primary hover:bg-primary/90",children:[e.jsx(o,{className:"h-4 w-4 mr-2"}),"Adaugă Pipeline"]})}),e.jsxs(L,{className:"sm:max-w-[625px]",children:[e.jsxs($,{children:[e.jsx(O,{children:"Crează un nou pipeline"}),e.jsx(G,{children:"Definește un nou proces de vânzări cu etapele specifice pentru tipul tău de afacere."})]}),e.jsxs("form",{onSubmit:S,children:[e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"name",children:"Nume pipeline"}),e.jsx(n,{id:"name",placeholder:"Ex: Pipeline Standard"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(t,{htmlFor:"description",children:"Descriere"}),e.jsx(n,{id:"description",placeholder:"Descriere scurtă a acestui pipeline"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{id:"is-default"}),e.jsx(t,{htmlFor:"is-default",children:"Setează ca pipeline implicit"})]})]}),e.jsx(H,{children:e.jsx(i,{type:"submit",children:"Salvează pipeline"})})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:T.map(s=>{const a=A(s.id);return e.jsxs(x,{className:`h-full shadow-sm ${s.id===r.id?"ring-2 ring-primary ring-offset-2":""}`,children:[e.jsx(p,{className:"pb-2",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(h,{children:s.name}),e.jsx(u,{children:s.description})]}),e.jsxs(y,{children:[e.jsx(N,{asChild:!0,children:e.jsxs(i,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[e.jsx(b,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Meniu"})]})}),e.jsxs(f,{align:"end",children:[e.jsxs(c,{onClick:()=>l("edit",s.id),children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),"Editează pipeline"]}),e.jsxs(c,{onClick:()=>l("duplicate",s.id),children:[e.jsx(o,{className:"h-4 w-4 mr-2"}),"Duplică"]}),!s.isDefault&&e.jsxs(c,{onClick:()=>l("makeDefault",s.id),children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Setează implicit"]}),e.jsx(D,{}),e.jsxs(c,{onClick:()=>l("delete",s.id),className:"text-red-600",disabled:s.isDefault,children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Șterge pipeline"]})]})]})]})}),e.jsxs(j,{children:[e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[s.isDefault&&e.jsx(g,{className:"bg-green-100 text-green-800",children:"Implicit"}),e.jsxs(g,{variant:"outline",children:[s.stages.length," etape"]}),e.jsxs(g,{variant:"outline",children:[a.activeDeals," oportunități active"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Valoare totală"}),e.jsx("p",{className:"text-lg font-medium",children:F(a.totalValue)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Rată conversie"}),e.jsxs("p",{className:"text-lg font-medium",children:[a.conversionRate,"%",e.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",s.targetConversionRate,"% țintă)"]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Timp mediu ciclu"}),e.jsxs("p",{className:"text-lg font-medium",children:[a.avgCycleTime," zile",e.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["(",s.targetCycleTime," țintă)"]})]})]})]}),e.jsxs("div",{className:"flex justify-between mt-6",children:[e.jsx(i,{variant:"outline",onClick:()=>k(s),className:s.id===r.id?"bg-primary/10":"",children:s.id===r.id?"Selectat":"Selectează"}),e.jsx(i,{variant:"outline",onClick:()=>l("view",s.id),children:"Vezi oportunități"})]})]})]},s.id)})}),e.jsx("div",{className:"mt-8",children:e.jsxs(W,{defaultValue:"stages",className:"w-full",children:[e.jsxs(q,{children:[e.jsx(P,{value:"stages",children:"Etape Pipeline"}),e.jsx(P,{value:"settings",children:"Setări Pipeline"})]}),e.jsx(z,{value:"stages",className:"mt-4",children:e.jsxs(x,{children:[e.jsxs(p,{children:[e.jsxs(h,{children:["Etape: ",r.name]}),e.jsx(u,{children:"Configurează etapele pipeline-ului și ordinea lor. Trage etapele pentru a le reordona."})]}),e.jsx(j,{children:e.jsxs("div",{className:"space-y-4",children:[r.stages.map(s=>e.jsxs("div",{className:"flex items-center gap-2 rounded-md border p-3",children:[e.jsx("div",{className:"flex-none",children:e.jsx(Q,{className:"h-5 w-5 text-gray-400 cursor-move"})}),e.jsx("div",{className:"flex-none w-4 h-12 rounded-sm",style:{backgroundColor:s.color}}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Probabilitate: ",s.probability,"%"]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsxs(i,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[e.jsx(J,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Mută sus"})]}),e.jsxs(i,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[e.jsx(K,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Mută jos"})]}),e.jsxs(y,{children:[e.jsx(N,{asChild:!0,children:e.jsxs(i,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[e.jsx(b,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Meniu"})]})}),e.jsxs(f,{align:"end",children:[e.jsxs(c,{onClick:()=>v("edit",s.id),children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),"Editează etapă"]}),e.jsx(D,{}),e.jsxs(c,{onClick:()=>v("delete",s.id),className:"text-red-600",children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Șterge etapă"]})]})]})]})]},s.id)),e.jsxs(i,{variant:"outline",className:"w-full",onClick:()=>l("addStage",r.id),children:[e.jsx(o,{className:"h-4 w-4 mr-2"}),"Adaugă etapă nouă"]})]})})]})}),e.jsx(z,{value:"settings",className:"mt-4",children:e.jsxs(x,{children:[e.jsxs(p,{children:[e.jsxs(h,{children:["Setări: ",r.name]}),e.jsx(u,{children:"Configurează parametrii pipeline-ului și obiectivele de performanță."})]}),e.jsx(j,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"target-conversion",children:"Rată de conversie țintă (%)"}),e.jsx(n,{id:"target-conversion",type:"number",defaultValue:r.targetConversionRate})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"target-cycle",children:"Durată ciclu țintă (zile)"}),e.jsx(n,{id:"target-cycle",type:"number",defaultValue:r.targetCycleTime})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(t,{htmlFor:"auto-assign",children:"Atribuire automată"}),e.jsx(m,{id:"auto-assign"})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Atribuie automat noi oportunități către vânzători bazat pe regulile de repartizare."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(t,{htmlFor:"auto-advance",children:"Avansare automată"}),e.jsx(m,{id:"auto-advance"})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Avansează automat oportunități în etapele următoare bazat pe reguli de automatizare."})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx(i,{children:"Salvează setări"})})]})})]})})]})})]})})};export{ee as default};
